<main class="px-8 pt-10 pb-6">
  <header class="max-w-md mx-auto mb-8">
    <h1 class="px-4 border-b border-gray-200 dark:border-gray-700 text-2xl flex items-center justify-center">
      <a href="/"
         (click)="changeWeek($event)"
         [ngClass]="{'text-blue-500 dark:text-blue-500': isEvenWeek, 'text-purple-500 dark:text-purple-400': !isEvenWeek}"
         title="Zmień tydzień"
         class="select-none">
        <svg xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 24 24"
             class="fill-current w-6 h-6">
          <path
                d="M21 19h2v2H1v-2h2V4a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v15h4v-8h-2V9h3a1 1 0 0 1 1 1v9zM5 5v14h8V5H5zm2 6h4v2H7v-2zm0-4h4v2H7V7z" />
        </svg>
      </a>
      <span class="mx-4 font-semibold">
        Politechnika Poznańska
      </span>
      <a href="/"
         (click)="openSettingsModal($event)"
         title="Zmień ustawienia"
         class="select-none text-gray-500">
        <svg xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 24 24"
             class="fill-current w-6 h-6">
          <path
                d="M2.213 14.06a9.945 9.945 0 0 1 0-4.12c1.11.13 2.08-.237 2.396-1.001.317-.765-.108-1.71-.986-2.403a9.945 9.945 0 0 1 2.913-2.913c.692.877 1.638 1.303 2.403.986.765-.317 1.132-1.286 1.001-2.396a9.945 9.945 0 0 1 4.12 0c-.13 1.11.237 2.08 1.001 2.396.765.317 1.71-.108 2.403-.986a9.945 9.945 0 0 1 2.913 2.913c-.877.692-1.303 1.638-.986 2.403.317.765 1.286 1.132 2.396 1.001a9.945 9.945 0 0 1 0 4.12c-1.11-.13-2.08.237-2.396 1.001-.317.765.108 1.71.986 2.403a9.945 9.945 0 0 1-2.913 2.913c-.692-.877-1.638-1.303-2.403-.986-.765.317-1.132 1.286-1.001 2.396a9.945 9.945 0 0 1-4.12 0c.13-1.11-.237-2.08-1.001-2.396-.765-.317-1.71.108-2.403.986a9.945 9.945 0 0 1-2.913-2.913c.877-.692 1.303-1.638.986-2.403-.317-.765-1.286-1.132-2.396-1.001zM4 12.21c1.1.305 2.007 1.002 2.457 2.086.449 1.085.3 2.22-.262 3.212.096.102.195.201.297.297.993-.562 2.127-.71 3.212-.262 1.084.45 1.781 1.357 2.086 2.457.14.004.28.004.42 0 .305-1.1 1.002-2.007 2.086-2.457 1.085-.449 2.22-.3 3.212.262.102-.096.201-.195.297-.297-.562-.993-.71-2.127-.262-3.212.45-1.084 1.357-1.781 2.457-2.086.004-.14.004-.28 0-.42-1.1-.305-2.007-1.002-2.457-2.086-.449-1.085-.3-2.22.262-3.212a7.935 7.935 0 0 0-.297-.297c-.993.562-2.127.71-3.212.262C13.212 6.007 12.515 5.1 12.21 4a7.935 7.935 0 0 0-.42 0c-.305 1.1-1.002 2.007-2.086 2.457-1.085.449-2.22.3-3.212-.262-.102.096-.201.195-.297.297.562.993.71 2.127.262 3.212C6.007 10.788 5.1 11.485 4 11.79c-.004.14-.004.28 0 .42zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
        </svg>
      </a>
    </h1>
    <p class="text-center mt-1 text-sm">Plan zajęć - tydzień {{isEvenWeek ? 'parzysty' : 'nieparzysty'}}</p>
  </header>
  <app-timetable [isWeekEven]="isEvenWeek"
                 [selectedGroup]="selectedGroup"
                 [obligatory]="obligatory"></app-timetable>
</main>
<app-modal></app-modal>

<ng-template #selectGroupTemplate
             let-modal>
  <h1 class="text-2xl font-semibold pb-2 border-b px-2 mb-6 border-gray-200 dark:border-gray-700">Ustawienia planu</h1>
  <div class="px-2">

    <label class="block mb-6">
      <p class="text-sm mb-2">Grupa dziekańska</p>
      <ng-select [items]="groups"
                 [(ngModel)]="selectedGroup">
        <ng-template ng-notfound-tmp
                     let-searchTerm="searchTerm">
          <div class="ng-option disabled">
            Nie znaleziono podanej grupy
          </div>
        </ng-template>
      </ng-select>
    </label>

    <label>
      <p class="text-sm mb-2">Przedmioty obieralne</p>
      <ng-select [items]="obligs"
                 [(ngModel)]="obligatory"
                 [multiple]="true">
        <ng-template ng-notfound-tmp
                     let-searchTerm="searchTerm">
          <div class="ng-option disabled">
            Nie znaleziono podanego przedmiotu obieralnego
          </div>
        </ng-template>
      </ng-select>
    </label>
  </div>

  <div class="border-t border-gray-200 dark:border-gray-700 px-2 flex items-center mt-8 pt-6 justify-end">

    <button (click)="modal.close()"
            class="mr-2 px-3 py-2 rounded-md focus:outline-none focus:shadow bg-gray-300 hover:bg-gray-400 dark:text-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 transition-colors duration-300">
      Zamknij
    </button>
    <button (click)="savePreferences()"
            class="px-3 py-2 rounded-md focus:outline-none focus:shadow text-gray-100 bg-blue-500 hover:bg-blue-600 dark:text-gray-300 dark:bg-blue-800 dark:hover:bg-blue-900 transition-colors duration-300">
      Zapisz moje preferencje
    </button>
  </div>
</ng-template>
