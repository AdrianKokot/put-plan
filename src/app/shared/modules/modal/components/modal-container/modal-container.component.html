<section class="fixed top-0 left-0 w-full h-screen right-0 bg-black bg-opacity-30 z-20 p-8 pt-16"
         *ngFor="let m of (modals$ | async); trackBy: trackById"
         [ngClass]="{'z-20': m.lvl == 0, 'z-30': m.lvl == 1, 'z-40': m.lvl == 2, 'z-50': m.lvl == 3}"
         (click)="$event.target == modalsSection ? close(m.id) : null"
         #modalsSection
         [@modalAnimation]>

  <div [class]="'bg-white dark:bg-gray-900 px-8 py-6 rounded-lg overflow-y-auto mx-auto' + (m.class.includes('max-w') ? '' : ' max-w-screen-md')"
       [ngClass]="m.class"
       style="max-height: calc(100vh - 70px);">

    <ng-template *ngTemplateOutlet="m.template; context: {$implicit: {close: close.bind(this, m.id), id: m.id}}">
    </ng-template>

  </div>

</section>
